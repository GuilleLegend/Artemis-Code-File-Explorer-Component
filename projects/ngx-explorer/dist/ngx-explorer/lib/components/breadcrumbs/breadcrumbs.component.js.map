{"version":3,"file":"breadcrumbs.component.js","sourceRoot":"","sources":["../../../../../src/lib/components/breadcrumbs/breadcrumbs.component.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,SAAS,EAAa,iBAAiB,EAAE,MAAM,eAAe,CAAC;AACxE,OAAO,EAAE,YAAY,EAAE,MAAM,MAAM,CAAC;AAiB7B,IAAM,oBAAoB,GAA1B,MAAM,oBAAoB;IAI7B,YAAoB,eAAgC,EAAU,aAA4B,EAAU,MAAsB;QAAtG,oBAAe,GAAf,eAAe,CAAiB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,WAAM,GAAN,MAAM,CAAgB;QAHnH,gBAAW,GAAiB,EAAE,CAAC;QAC9B,QAAG,GAAG,IAAI,YAAY,EAAE,CAAC;QAG7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5F,CAAC;IAEO,gBAAgB,CAAC,KAAc;QACnC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClI,CAAC;IAEM,KAAK,CAAC,KAAiB;QAC1B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC;IAC1C,CAAC;IAEM,WAAW;QACd,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC;CAEJ,CAAA;AArBY,oBAAoB;IANhC,SAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;QAC3B,WAAW,EAAE,8BAA8B;QAC3C,SAAS,EAAE,CAAC,8BAA8B,CAAC;QAC3C,aAAa,EAAE,iBAAiB,CAAC,IAAI;KACxC,CAAC;GACW,oBAAoB,CAqBhC;SArBY,oBAAoB","sourcesContent":["import { Component, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { INode } from '../../shared/types';\r\nimport { ExplorerService } from '../../services/explorer.service';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { ConfigProvider } from '../../services/config.provider';\r\n\r\ninterface Breadcrumb {\r\n    node: INode;\r\n    name: string;\r\n}\r\n\r\n@Component({\r\n    selector: 'nxe-breadcrumbs',\r\n    templateUrl: './breadcrumbs.component.html',\r\n    styleUrls: ['./breadcrumbs.component.scss'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class BreadcrumbsComponent implements OnDestroy {\r\n    public breadcrumbs: Breadcrumb[] = [];\r\n    private sub = new Subscription();\r\n\r\n    constructor(private explorerService: ExplorerService, private helperService: HelperService, private config: ConfigProvider) {\r\n        this.sub.add(this.explorerService.breadcrumbs.subscribe(n => this.buildBreadcrumbs(n)));\r\n    }\r\n\r\n    private buildBreadcrumbs(nodes: INode[]) {\r\n        this.breadcrumbs = nodes.map(n => ({ name: this.helperService.getName(n.data) || this.config.config.homeNodeName, node: n }));\r\n    }\r\n\r\n    public click(crumb: Breadcrumb) {\r\n        this.explorerService.openNode(crumb.node.id);\r\n        this.explorerService.getCurrentPath();\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        this.sub.unsubscribe();\r\n    }\r\n\r\n}\r\n"]}